<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on HimawariSunFlower&#39;s home</title>
    <link>http://HimawariSunFlower.github.io/posts/</link>
    <description>Recent content in Posts on HimawariSunFlower&#39;s home</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Fri, 13 Jan 2023 15:01:27 +0800</lastBuildDate><atom:link href="http://HimawariSunFlower.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>vue3åŸºç¡€æ‰‹æ³•æŒ‡åŒ—ä¹‹æ–°æ‰‹æ‘ç¯‡</title>
      <link>http://HimawariSunFlower.github.io/posts/vue3%E5%9F%BA%E7%A1%80%E6%89%8B%E6%B3%95%E6%8C%87%E5%8C%97%E4%B9%8B%E6%96%B0%E6%89%8B%E6%9D%91%E7%AF%87/</link>
      <pubDate>Fri, 13 Jan 2023 15:01:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/vue3%E5%9F%BA%E7%A1%80%E6%89%8B%E6%B3%95%E6%8C%87%E5%8C%97%E4%B9%8B%E6%96%B0%E6%89%8B%E6%9D%91%E7%AF%87/</guid>
      <description>vueåŸºç¡€å¾ªç¯æŒ‡åŒ— 1.1. æŒ‡ä»¤ 1.2. å“åº”å¼ refä¸reactive 1.3. ç”Ÿå‘½å‘¨æœŸ ç¬¬ä¸‰æ–¹æ’ä»¶ 2.1. æµè§ˆå™¨æ’ä»¶ vue.js devtools vue3åŸºç¡€æ‰‹æ³•æŒ‡åŒ—ä¹‹æ–°æ‰‹æ‘ç¯‡ &amp;ndash; å¸‚é¢ä¸Šå¤§ç«çš„æ¸¸æˆï¼Œè™½ç„¶è¿˜ä¸ç†è§£è¯¥æ¸¸æˆçš„è®¾å®šä½†æ€»ä¹‹å…ˆä»æ–°æ‰‹æ‘å‡ºå‘
å‰ç½®å®˜æ–¹æ–°æ‰‹æ•™ç¨‹ ä¼ é€é—¨
1. vueåŸºç¡€å¾ªç¯æŒ‡åŒ— &amp;ndash; æ‘å¥½å‰‘
1.1. æŒ‡ä»¤ &amp;ndash; è¿™æ˜¯ç«1-ç«4ï¼Œè¿™æ˜¯å†°1-å†°4ï¼Œå¥½äº†ï¼Œä½ è¯¥ç»ƒgcdå¾ªç¯äº†
v-bind(:) åœ¨æ¨¡æ¿ä¸­å“åº”å¼çš„ç»‘å®šattributeã€‚ ç”¨å¤„ï¼šå¯ä»¥ç”¨æ¥åŠ¨æ€æ”¹å˜styleæˆ–å…¶ä»–å€¼ï¼Œæ¯”å¦‚é…åˆv-foræ¥è®¾ç½®selecté‡Œoptionçš„keyï¼Œvalueã€‚ æŠ€èƒ½è¯¦æƒ… v-model åœ¨è¡¨å•è¾“å…¥å…ƒç´ æˆ–ç»„ä»¶ä¸Šåˆ›å»ºåŒå‘ç»‘å®šã€‚ ç”¨å¤„ï¼šç»‘å®šåè¡¨å•è¾“å…¥å€¼å°±å¯ä»¥æ”¹å˜scriptå®šä¹‰çš„ref/reactiveå˜é‡ æŠ€èƒ½è¯¦æƒ… v-on(@) ç»™å…ƒç´ ç»‘å®šäº‹ä»¶ç›‘å¬å™¨ã€‚ æŠ€èƒ½è¯¦æƒ… v-if v-else v-else-if v-for v-show ä¸æ¨èåŒæ—¶ä½¿ç”¨v-ifå’Œv-for v-showé€šè¿‡displayæ¥å®ç°v-ifçš„æ•ˆæœï¼Œæ€§èƒ½æ›´æœ‰ä¼˜åŠ¿ v-text v-html v-solt v-once v-memo v-cloak v-pre 1.2. å“åº”å¼ refä¸reactive &amp;ndash; ä½ è¦çš„æ˜¯è¿™ä¸ªé‡‘æ–§å¤´è¿˜æ˜¯è¿™ä¸ªé“¶æ–§å¤´å‘¢ï¼Ÿ
import { ref,reactive } from &#39;vue&#39; let state1 = reactive({ count: 0 }) let state2 = ref({ count: 0 }) //åœ¨tsä¸­ä¿®æ”¹å€¼ state1.</description>
    </item>
    
    <item>
      <title>ä½¿ç”¨vue3&#43;typescriptå®ç°ä¸åç«¯çš„grpcé€šä¿¡</title>
      <link>http://HimawariSunFlower.github.io/posts/ts-proto/</link>
      <pubDate>Fri, 16 Dec 2022 10:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/ts-proto/</guid>
      <description>ä½¿ç”¨vue3+typescriptå®ç°grpc, makefile:
NODE_BIN_PATH=./node_modules/.bin OUT_DIR=./src/proto ifeq ($(GOHOSTOS), windows) #the `find.exe` is different from `find` in bash/shell. #to see https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/find. #changed to use git-bash.exe to run find cli or other cli friendly, caused of every developer has a Git. Git_Bash= $(subst cmd\,bin\bash.exe,$(dir $(shell where git))) INTERNAL_PROTO_FILES=$(shell $(Git_Bash) -c &amp;quot;find app -name *.proto&amp;quot;) API_PROTO_FILES=$(shell $(Git_Bash) -c &#39;find proto -path proto/third_party -prune -o -name &amp;quot;*.proto&amp;quot; | grep -v &amp;quot;^proto/third_party&amp;quot;&#39;) else INTERNAL_PROTO_FILES=$(shell find app -name *.</description>
    </item>
    
    <item>
      <title>entä¸å›¾æ•°æ®åº“</title>
      <link>http://HimawariSunFlower.github.io/posts/ent/</link>
      <pubDate>Fri, 28 Oct 2022 16:05:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/ent/</guid>
      <description> å‚è€ƒèµ„æ–™ ent [ä»€ä¹ˆæ˜¯å›¾æ•°æ®åº“GDB]{https://help.aliyun.com/document_detail/102799.html} https://log.zvz.im/2020/06/21/go-ent-graph-based-orm/ GDBçš„ä¼˜ç‚¹ entåº“æœ¬èº«ä¸æ”¯æŒæ ¹æ®struct Tåˆ›å»ºæ•°æ®åº“æ•°æ®ï¼Œä½†æ˜¯å¯ä»¥æ ¹æ®templateç”Ÿæˆå¯¹åº”æ–¹æ³•å»æ‰“è¡¥ä¸å®ç°ã€‚ 2. docs </description>
    </item>
    
    <item>
      <title>gitlab ci/cd&#43;ansible è¿œç¨‹sshæœåŠ¡å™¨deployé‡åˆ°çš„é—®é¢˜</title>
      <link>http://HimawariSunFlower.github.io/posts/cicd_2/</link>
      <pubDate>Tue, 18 Oct 2022 16:05:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/cicd_2/</guid>
      <description> è°ƒç”¨æœ¬åœ°shæ–‡ä»¶éœ€è¦æƒé™ æŠ¥é”™ï¼š/bin/bash: deploy.sh: Permission denied è§£å†³ï¼šåœ¨ymlè°ƒç”¨shå‰chmod777 deploy.sh gitlabå˜é‡é»˜è®¤åªåœ¨å—ä¿æŠ¤çš„åˆ†æ”¯ä¸Šç”Ÿæ•ˆ æŠ¥é”™ï¼šç›´æ¥ä½¿ç”¨å˜é‡ä¼šæ‰¾ä¸åˆ° è§£å†³ï¼šå°†å¯¹åº”åˆ†æ”¯è®¾ç½®ä¸ºå—ä¿æŠ¤ ansibleè¿æ¥è¿œç¨‹æœåŠ¡å™¨å¤±è´¥ æŠ¥é”™ï¼š Unable to parse /Users/mac/root@host1 as an inventory source è§£å†³ï¼šæ³¨æ„ï¼šå¦‚æœä¼ å…¥çš„èŠ‚ç‚¹åªæœ‰ä¸€å°ï¼Œæœ«å°¾çš„é€—å·ä¸èƒ½çœç•¥ğŸ”— ansible all -i host161,host162 &amp;ndash;list-hosts ansible all -i host161, &amp;ndash;list-hosts sshå¯†é’¥è®¤è¯å¤±è´¥ æŠ¥é”™ï¼š root@hosts | UNREACHABLE! =&amp;gt; { &amp;#34;changed&amp;#34;: false, &amp;#34;msg&amp;#34;: &amp;#34;Failed to connect to the host via ssh: Host key verification failed.&amp;#34;, &amp;#34;unreachable&amp;#34;: true } è§£å†³ï¼šéœ€è¦å‚æ•° &amp;ndash;ssh-common-args=&amp;rsquo;-o StrictHostKeyChecking=no&#39; æ€»ä½“belikeï¼šansible &amp;ndash;ssh-common-args=&amp;rsquo;-o StrictHostKeyChecking=no&amp;rsquo; -i &amp;ldquo;$DEPLOY_TO_HOSTS&amp;rdquo;, &amp;ldquo;*&amp;rdquo; -m command -a &amp;rsquo;ls&#39; ansible å‚è€ƒ æ–°å»ºæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶ ç”¨fileæ¨¡å— æ‹·è´æœ¬æœºæ–‡ä»¶å»è¿œç¨‹æœåŠ¡å™¨ ç”¨copyæ¨¡å— commandæ¨¡å— ä¸èƒ½ä½¿ç”¨&amp;gt;,&amp;lt;,cdç­‰æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨shellæ¨¡å— &amp;ldquo;nohup &amp;amp;&amp;rdquo; linuxåå°è¿è¡Œç¨‹åº </description>
    </item>
    
    <item>
      <title>å¾®æœåŠ¡ä¸å•å…ƒæµ‹è¯•</title>
      <link>http://HimawariSunFlower.github.io/posts/ut/</link>
      <pubDate>Wed, 12 Oct 2022 16:05:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/ut/</guid>
      <description>é€‰ç”¨testifyï¼Œgoconveyæ¥åšå•æµ‹ã€‚ é€‰ç”¨mockeryæ¥æ ¹æ®goæ–‡ä»¶é‡Œçš„interfaceç”Ÿæˆserviceçš„mockstruct mockery &amp;ndash;all é€‰ç”¨go-sqlmockæ¥åšsqlmock ä½¿ç”¨go-sqlmock+gorm+mysqlæ—¶ï¼Œå¦‚æœä½¿ç”¨createï¼Œupdateç­‰éåŸç”Ÿæ–¹æ³•ï¼Œéœ€è¦è®¾ç½®SkipInitializeWithVersion: trueï¼Œå…³æ‰é»˜è®¤äº‹åŠ¡é˜²æ­¢mockå¤±è´¥ ç›´æ¥mockrepoçš„å•æµ‹æ–¹å¼ï¼Œåªæ˜¯æµ‹è¯•serviceå±‚ï¼š
func TestConcurrentPost(t *testing.T) { Convey(&amp;#34;unit testing concurrent_post query service&amp;#34;, t, func() { logger := log.NewStdLogger(os.Stdout) repo := mocks.NewConcurrentPostRepo(t) repo.On(&amp;#34;QueryConcurrentPost&amp;#34;, mock.Anything, mock.AnythingOfType(&amp;#34;biz.Option&amp;#34;), mock.AnythingOfType(&amp;#34;biz.Option&amp;#34;)).Return(&amp;amp;biz.ConcurrentPost{UserId: 1, Id: 1}, nil) _hrm := NewHRMServiceService(nil, biz.NewConcurrentPostUsecase(repo, logger), nil, nil, nil, nil, logger) _hrm.QueryConcurrentPost(context.Background(), &amp;amp;v1.ReqConcurrentPostId{ UserId: uint64(1), Id: 1, }) repo.AssertExpectations(t) }) } mock sqlï¼Œå¯ä»¥æµ‹è¯•åˆ°serviceå±‚ï¼Œbizå±‚å’Œdataå±‚ï¼Œä½†æ˜¯å…·ä½“sqlå¹¶ä¸èƒ½æµ‹è¯•ï¼Œ å› ä¸ºsqlè¿”å›ç»“æœæ˜¯mockçš„æœŸæœ›å€¼ã€‚
func TestConcurrentPostWithSql(t *testing.T) { Convey(&amp;#34;unit testing concurrent_post query service&amp;#34;, t, func() { logger := log.</description>
    </item>
    
    <item>
      <title>gitlab ci/cd</title>
      <link>http://HimawariSunFlower.github.io/posts/cicd_1/</link>
      <pubDate>Tue, 11 Oct 2022 16:05:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/cicd_1/</guid>
      <description>å®˜æ–¹æ–‡æ¡£
å…³äºå¤§ä»“æ¨¡å¼å¾®æœåŠ¡çš„ci/cdæ„å»º
cdåº”è¯¥é’ˆå¯¹masteråˆ†æ”¯ï¼Œä¹Ÿå°±æ˜¯ä¸»åˆ†æ”¯ä»£ç æäº¤æ—¶(å‘ç‰ˆæ—¶)æ‰è§¦å‘è‡ªåŠ¨æ„å»ºã€‚ æˆ‘ä»¬é€šå¸¸åªæƒ³æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²åº”ç”¨ç¨‹åºçš„é‚£äº›å·²ç»æ›´æ”¹çš„æœåŠ¡ãƒ¼ãƒ¼è€Œä¸æ˜¯å°†æ‰€æœ‰æœåŠ¡æ”¾åœ¨ä¸€èµ·ï¼Œå› ä¸ºè¿™å¯èƒ½éå¸¸è€—æ—¶ã€‚ä½¿ç”¨only/changeå­å¥æ¥å®ç°ã€‚rule/changesåº”å½“æ˜¯æ›´å¥½çš„å®ç°ã€‚ æ ¹æ®gitlabå®˜æ–¹çš„cicdå®ç°ï¼Œæ ¹ç›®å½•çš„ymlå»include ciæ–‡ä»¶å¤¹ä¸‹çš„å¯¹åº”æœåŠ¡çš„ymlæ–‡ä»¶ï¼Œæ¥å®ç°ä¸€ä¸ªå¤§ä»“ä¸‹å¤šä¸ªæœåŠ¡çš„cicdã€‚ todo å¦‚ä½•å»å‘å¸ƒåˆ°ä¸åŒæœåŠ¡å™¨ï¼Ÿ ç›®å‰é€‰ç”¨ansible todo k8s è¸©å‘ï¼š
jobs config should contain at least one visible job https://gitlab.com/gitlab-org/gitlab/-/issues/341693 ç–‘ä¼¼å·²ä¿®å¤ï¼Œgitlab15.2 è¯·æ³¨æ„ï¼ŒGitLab Runner çš„é»˜è®¤ pull policy ä¸º alwaysï¼Œè¿™æ„å‘³ç€å³ä½¿æœ¬åœ°å‰¯æœ¬å¯ç”¨ï¼Œrunner ä¹Ÿä¼šå°è¯•ä» GitLab å®¹å™¨é•œåƒåº“ä¸­æå– Docker é•œåƒã€‚å¦‚æœæ‚¨æ›´å–œæ¬¢ä»…ä½¿ç”¨æœ¬åœ°å¯ç”¨çš„ Docker é•œåƒï¼Œåˆ™å¯ä»¥åœ¨ç¦»çº¿ç¯å¢ƒä¸­å°† GitLab Runner pull_policy è®¾ç½®ä¸º if-not-presentã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸åœ¨ç¦»çº¿ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬å»ºè®®å°†æ‹‰å–ç­–ç•¥è®¾ç½®ä¿æŒä¸º alwaysï¼Œå› ä¸ºè¿™æ ·å¯ä»¥åœ¨ CI/CD æµæ°´çº¿ä¸­ä½¿ç”¨æ›´æ–°çš„æ‰«æç¨‹åºã€‚ runneré»˜è®¤ä½¿ç”¨alwaysç­–ç•¥ï¼Œæ— æ³•é€šè¿‡é…ç½®æ–‡ä»¶ä¿®æ”¹ protoc-gen-go: error:inconsistent package import paths protoc-gen-goä¸å­˜åœ¨æŠ¥çš„è¿™ä¸ªé”™è¯¯ï¼Œç¥ç§˜ æ¯ä¸€ä¸ªæ„å»ºéƒ½æ˜¯éš”ç¦»çš„ï¼Œbuild protosè¿™ç§æŒ‡ä»¤åº”å½“æ”¾åˆ°before_scripté‡Œè®©æ¯ä¸ªstageéƒ½è§¦å‘ç”Ÿæˆ only:-changes: è·¯å¾„ä¸èƒ½åŒ…å«å˜é‡ï¼Œç›´æ¥ä»æ ¹ç›®å½•æŒ‡å‘å¯¹åº”ç›®å½• æŠ€å·§
include templateå¯ä»¥ç›´æ¥å¼•ç”¨gitlabå®˜æ–¹é¢„åˆ¶çš„ä¸€äº›æ¨¡æ¿ï¼ŒåŒ…æ‹¬ä»£ç æ£€æŸ¥ä¹‹ç±»çš„ã€‚é“¾æ¥ gitlabæä¾›äº†ä¸€æ‰¹é¢„å®šä¹‰å˜é‡. é“¾æ¥ å‘½ä»¤
dependencies: é€šè¿‡æä¾›è¦ä»ä¸­è·å–äº§ç‰©çš„ä½œä¸šåˆ—è¡¨ï¼Œæ¥é™åˆ¶å°†å“ªäº›äº§ç‰©ä¼ é€’ç»™ç‰¹å®šä½œä¸šã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨ deployé˜¶æ®µdependenciesæŒ‡å®šbuildé˜¶æ®µçš„jobå¯ä»¥å–åˆ°buildæ‰“å‡ºæ¥çš„åŒ…ã€‚ tags:ç”¨äºé€‰æ‹© runner çš„æ ‡ç­¾åˆ—è¡¨ï¼ˆé€‰å–è¿è¡Œå¯¹è±¡ï¼‰ needsï¼šåœ¨ stage é¡ºåºä¹‹å‰æ‰§è¡Œçš„ä½œä¸šï¼ˆå‘åŠ¨æ•ˆæœçš„costï¼‰ extendsï¼šæ­¤ä½œä¸šç»§æ‰¿è‡ªçš„é…ç½®æ¡ç›®ï¼ˆæœ‰ç»§æ‰¿å°±å¯ä»¥æŠ½è±¡ä¸€äº›å…¬ç”¨çš„æ–¹æ³•å‡ºæ¥äº†ï¼‰ artifactsï¼šä½¿ç”¨ artifacts æŒ‡å®šåœ¨ä½œä¸š succeeds, fails, æˆ– always æ—¶é™„åŠ åˆ°ä½œä¸šçš„æ–‡ä»¶å’Œç›®å½•åˆ—è¡¨ã€‚(æ ¹æ®artfactsåœ¨buildï¼Œdeployä¸¤ä¸ªé˜¶æ®µä¼ é€’æ‰“å‡ºæ¥çš„åŒ…) å‚è€ƒæ–‡æ¡£</description>
    </item>
    
    <item>
      <title>uml</title>
      <link>http://HimawariSunFlower.github.io/posts/uml/</link>
      <pubDate>Sat, 08 Oct 2022 16:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/uml/</guid>
      <description>UML æ˜¯ç»Ÿä¸€å»ºæ¨¡è¯­è¨€çš„ç®€ç§°ï¼Œå®ƒæ˜¯ä¸€ç§ç”±ä¸€æ•´å¥—å›¾è¡¨ç»„æˆçš„æ ‡å‡†åŒ–å»ºæ¨¡è¯­è¨€ã€‚
ç»“æ„æ€§å›¾: ç±»å›¾ (Class Diagram) ç»„ä»¶å›¾ (Component Diagram) éƒ¨ç½²å›¾ (Deployment Diagram) å¯¹è±¡å›¾ (Object Diagram) åŒ…å›¾ (Package Diagram) å¤åˆç»“æ„å›¾ (Composite Structure Diagram) è½®å»“å›¾ (Profile Diagram)
è¡Œä¸ºæ€§å›¾: ç”¨ä¾‹å›¾ (Use Case Diagram) æ´»åŠ¨å›¾ (Activity Diagram) çŠ¶æ€æœºå›¾ (State Machine Diagram) åºåˆ—å›¾ (Sequence Diagram) é€šè¨Šåœ– (Communication Diagram) äº¤äº’æ¦‚è¿°å›¾ (Interaction Overview Diagram) æ—¶åºå›¾ (Timing Diagram)</description>
    </item>
    
    <item>
      <title>goæºç é˜…è¯»ä¹‹errgroup</title>
      <link>http://HimawariSunFlower.github.io/posts/go_1/</link>
      <pubDate>Wed, 28 Sep 2022 17:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/go_1/</guid>
      <description>é˜…è¯»kratosæºç å‘æ—¶å€™ï¼Œå‘ç°åœ¨app.Run()æ–¹æ³•é‡Œè°ƒç”¨äº†ä¸€ä¸ªå«errgroupçš„å®˜æ–¹åº“(å±…ç„¶å’Œsingleflightä¸€ä¸ªåº“)ã€‚ å†³å®šå»çœ‹ä¸€ä¸‹è¿™æ˜¯ä¸ªä»€ä¹ˆæ ·çš„åº“ï¼Œgolang.org/x/sync/errgroupã€‚
å‘ç°æ˜¯å®˜æ–¹å¯¹goroutines groupçš„ä¸€ä¸ªå°è£…ã€‚
Package errgroup provides synchronization, error propagation, and Context cancelation for groups of goroutines working on subtasks of a common task. errgroupçš„ç»“æ„ï¼š
type Group struct { cancel func() wg sync.WaitGroup sem chan token errOnce sync.Once err error } errgroupæä¾›äº†ä»¥ä¸‹æ–¹æ³•ï¼š
func WithContext(ctx context.Context) (*Group, context.Context) func (g *Group) Go(f func() error) func (g *Group) SetLimit(n int) func (g *Group) TryGo(f func() error) bool func (g *Group) Wait() error withcontextæ˜¯æ ¹æ®contextå»buildä¸€ä¸ªerrgroupï¼Œå¹¶è¿”å›ä»ctxæ´¾ç”Ÿçš„contextã€‚æ´¾ç”Ÿçš„Contextåœ¨ä¼ é€’ç»™Goçš„å‡½æ•°ç¬¬ä¸€æ¬¡è¿”å›énilé”™è¯¯æˆ–Waitç¬¬ä¸€æ¬¡è¿”å›æ—¶è¢«å–æ¶ˆï¼Œä»¥å…ˆå‘ç”Ÿçš„æƒ…å†µä¸ºå‡†ã€‚</description>
    </item>
    
    <item>
      <title>go1.16 docker buildé‡åˆ°çš„é—®é¢˜</title>
      <link>http://HimawariSunFlower.github.io/posts/go_sum/</link>
      <pubDate>Fri, 23 Sep 2022 14:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/go_sum/</guid>
      <description>åœ¨æˆ‘æœ¬æœºèƒ½è¿è¡Œçš„Dockerfileï¼Œåœ¨åŒäº‹æœºå™¨ä¸Šbuildæ­¥éª¤ä¼šå¤±è´¥
Dockerfile:
FROM golang:1.16 AS builder ARG APP_RELATIVE_PATH COPY . /src WORKDIR /src/app/${APP_RELATIVE_PATH} RUN GOPROXY=https://goproxy.cn make build FROM debian:stable-slim ARG APP_RELATIVE_PATH RUN apt-get update &amp;amp;&amp;amp; apt-get install -y --no-install-recommends \ ca-certificates \ netbase \ &amp;amp;&amp;amp; rm -rf /var/lib/apt/lists/ \ &amp;amp;&amp;amp; apt-get autoremove -y &amp;amp;&amp;amp; apt-get autoclean -y COPY --from=builder /src/app/${APP_RELATIVE_PATH}/bin /app WORKDIR /app EXPOSE 8000 EXPOSE 9000 VOLUME /data/conf CMD [&amp;#34;./server&amp;#34;, &amp;#34;-conf&amp;#34;, &amp;#34;/data/conf&amp;#34;] Makefile:
.PHONY: build # build build: mkdir -p bin/ &amp;amp;&amp;amp; go build -ldflags &amp;#34;-X main.</description>
    </item>
    
    <item>
      <title>docker åˆä½“éªŒ</title>
      <link>http://HimawariSunFlower.github.io/posts/doceker_1/</link>
      <pubDate>Tue, 20 Sep 2022 11:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/doceker_1/</guid>
      <description> ä¼ è¿›å»çš„é…ç½®æ–‡ä»¶ å¦‚æœæ˜¯ç›‘å¬ç«¯å£ï¼Œåº”å½“æ˜¯0.0.0.0 å¦‚æœæ˜¯å¤–éƒ¨æœåŠ¡ï¼Œåº”å½“æ˜¯å¯¹åº”ipï¼Œæ— æ³•ç›´æ¥ç”¨0.0.0.0å»è¿æ¥å®¿ä¸»æœº Dockerfile docker æŒ‡ä»¤ volumes æŒ‚åœ¨ç›¸å¯¹è·¯å¾„çš„è¯ï¼Œæ ¹èŠ‚ç‚¹åœ¨dockerfileçš„æ–‡ä»¶æˆ–è€…docker-compose.ymlçš„è·¯å¾„ ğŸ”— cmdä½¿ç”¨[]å½¢å¼ä¸èƒ½å–åˆ°ç¯å¢ƒå˜é‡ æ›´å…·ä½“çš„åŸç† å¤šæ­¥æ„å»º copyä¼šè·Ÿåœ¨runåé¢æ‰§è¡Œ </description>
    </item>
    
    <item>
      <title>go-kratos å®é™…å¼€å‘é—®é¢˜</title>
      <link>http://HimawariSunFlower.github.io/posts/read_kratos_4/</link>
      <pubDate>Mon, 19 Sep 2022 11:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/read_kratos_4/</guid>
      <description>repoå±‚æŠ½è±¡ä¼˜åŒ–é—®é¢˜ https://lailin.xyz/post/graceful-repo-code.html å…³äºrepoå±‚çš„æ¥å£ä¼˜é›…ï¼ŒæŠ½è±¡ kratosçš„bizå±‚ï¼Œdataå±‚ä¸å¤ªèƒ½å¤„ç†ï¼Ÿ gormè¿™ç§å…·ä½“ormä¸åº”å½“æš´éœ²ç»™biz bizä¸èƒ½è°ƒç”¨dataä¼šç›¸äº’å¼•ç”¨ æš‚æ—¶æ²¡æœ‰æ€è€ƒå‡ºå¥½çš„æ–¹å¼ dddç›¸å…³åŠkratosç‰ˆdddç›¸å…³
ä¸dartå®¢æˆ·ç«¯çš„grpcå¯¹æ¥
è¿”å›error ä»–é‚£è¾¹æ˜¯try catchåˆ°å†ç”¨grpcErrorç±»è§£æå¤„ç†ï¼Œç­‰åŒäºgoçš„grpcåŒ…é‡Œçš„toRpcErr() rpcåˆ†ç±»ï¼š</description>
    </item>
    
    <item>
      <title>gorm é‡åˆ°çš„é—®é¢˜</title>
      <link>http://HimawariSunFlower.github.io/posts/gorm_1/</link>
      <pubDate>Mon, 19 Sep 2022 11:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/gorm_1/</guid>
      <description> updates(&amp;amp;struct{}),å€¼ä¸º0ä¸ä¼šè·Ÿæ–°ï¼Œéœ€è¦updates(map)æˆ–è€…save()æˆ–è€…update() </description>
    </item>
    
    <item>
      <title>consul</title>
      <link>http://HimawariSunFlower.github.io/posts/consul/</link>
      <pubDate>Mon, 19 Sep 2022 10:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/consul/</guid>
      <description></description>
    </item>
    
    <item>
      <title>jaeger</title>
      <link>http://HimawariSunFlower.github.io/posts/jaeger/</link>
      <pubDate>Mon, 19 Sep 2022 10:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/jaeger/</guid>
      <description></description>
    </item>
    
    <item>
      <title>ä½¿ç”¨vue3&#43;typescriptå®ç°ä¸åç«¯çš„grpcé€šä¿¡</title>
      <link>http://HimawariSunFlower.github.io/posts/ts_1/</link>
      <pubDate>Mon, 19 Sep 2022 10:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/ts_1/</guid>
      <description></description>
    </item>
    
    <item>
      <title>go-kratos å¾®æœåŠ¡å¿…é¡»çš„åŠŸèƒ½åŠç¬¬ä¸‰æ–¹åº“</title>
      <link>http://HimawariSunFlower.github.io/posts/read_kratos_3/</link>
      <pubDate>Tue, 13 Sep 2022 15:08:57 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/read_kratos_3/</guid>
      <description>æœåŠ¡å‘ç° consul
åŸºäºnameå’Œidæ¥åŒºåˆ†ä¸åŒæ³¨å†Œ å¦‚æœnameæˆ–idç›¸åŒï¼Œä¼šäº’ç›¸è¦†ç›– é“¾è·¯è¿½è¸ª jaeger
kratosçš„ä¸­é—´ä»¶é€šè¿‡[open-telemetry]é›†æˆæ•°æ®å†ä¼ é€’ç»™jaeger Metrics open-telemetry + Grafana + Prometheus
&amp;hellip;æ›´å¤šå¾…æ·»åŠ </description>
    </item>
    
    <item>
      <title>macå¸¸ç”¨å¿«æ·é”®</title>
      <link>http://HimawariSunFlower.github.io/posts/mac_1/</link>
      <pubDate>Tue, 13 Sep 2022 11:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/mac_1/</guid>
      <description>é€šç”¨
Homeé”®=Fn+å·¦æ–¹å‘ Endé”®=Fn+å³æ–¹å‘ PageUP=Fn+ä¸Šæ–¹å‘ PageDOWN=Fn+ä¸‹æ–¹å‘ ç»ˆç«¯
tab å®Œæ•´çš„ç›®å½•æˆ–æ–‡ä»¶åç§° tab+tab æ˜¾ç¤ºå¯èƒ½çš„ç›®å½•æˆ–æ–‡ä»¶åç§°è¡¥å…¨åˆ—è¡¨ command+D åŒå± shift+command+D å–æ¶ˆåŒå± control+A åˆ°è¡Œé¦– control+E åˆ°è¡Œå°¾ control+U è¡Œåˆ é™¤ command+home åˆ°é¡¶éƒ¨ command+end åˆ°åº•éƒ¨ command+pageup ä¸Šä¸€é¡µ command+pagedown ä¸‹ä¸€é¡µ goland
#éƒ¨åˆ†æ˜¯æ”¹å»º command+z æ’¤æ¶ˆ control+T é‡åš (æ’¤æ¶ˆæ’¤é”€) command+R æ›¿æ¢ shift+command+R å…¨å±€æ›¿æ¢ command+f æœç´¢ shift+command+f å…¨å±€æœç´¢ command+&amp;lt;- åˆ°è¡Œé¦– command+-&amp;gt; åˆ°è¡Œå°¾ shift+command+&amp;lt;- é€‰ä¸­åˆ°è¡Œé¦– shift+command+-&amp;gt; é€‰ä¸­åˆ°è¡Œå°¾ command+delete è¡Œåˆ é™¤ option+command+l æ ¼å¼åŒ–æ–‡ä»¶ option+shift+command+[ ä»å½“å‰å…‰æ ‡é€‰ä¸­åˆ°ä»£ç å—å¼€å§‹ (æ²¡é€‰åˆ°æœ€å¼€å§‹å°±å¤šæ•²ä¸€ä¸‹[) option+shift+command+] ä»å½“å‰å…‰æ ‡é€‰ä¸­åˆ°ä»£ç å—ç»“æŸ chrome
mac å¼ºåˆ¶åˆ·æ–°ï¼šcommand+shift+r mac æ™®é€šåˆ·æ–°ï¼šcommand+r trem
pwd å½“å‰è·¯å¾„ ps -ef | grep è¿›ç¨‹å æŸ¥çœ‹è¿›ç¨‹å· sudo lsof -i :ç«¯å£ æŸ¥çœ‹ç«¯å£è¢«å“ªä¸ªè¿›ç¨‹ç›‘å¬ sudo lsof -nP -p è¿›ç¨‹å· | grep LISTEN æŸ¥çœ‹è¿›ç¨‹ç›‘å¬çš„ç«¯å£ sudo lsof -nP | grep LISTEN | grep è¿›ç¨‹å· æŸ¥çœ‹è¿›ç¨‹ç›‘å¬çš„ç«¯å£ sudo lsof -nP | grep LISTEN | grep ç«¯å£å· æŸ¥çœ‹ç›‘å¬ç«¯å£çš„è¿›ç¨‹ linux</description>
    </item>
    
    <item>
      <title>go-kratos æ¨¡ä»¿beershopçš„å¾®æœåŠ¡demoè¿è¡ŒåŠé‡åˆ°çš„é—®é¢˜</title>
      <link>http://HimawariSunFlower.github.io/posts/read_kratos_2/</link>
      <pubDate>Mon, 05 Sep 2022 15:08:57 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/read_kratos_2/</guid>
      <description>é”™è¯¯å¦‚æœä¸å®šä¹‰ä¸ºkratosçš„é”™è¯¯ç±»å‹ï¼Œç›´æ¥è¾“å‡ºerrors.errorï¼Œä¼šè¾“å‡ºç§æœ‰é”™è¯¯ { &amp;#34;errors&amp;#34;: { &amp;#34;internal&amp;#34;: [ &amp;#34;error&amp;#34; ] } } æ— æ³•æ˜¾ç¤ºå…·ä½“ä¿¡æ¯ï¼Œå¿…é¡»æŒ‰è§„å®šçš„é”™è¯¯å¤„ç†ï¼Œå®šä¹‰ç”Ÿæˆpbæ–‡ä»¶ä¹‹ååŒ…è£…ä¸€ä¸‹
v1.ErrorParamError(&amp;#34;jwt token missing&amp;#34;) v1.ErrorParamError(err.Error()) å°è¯•dockeréƒ¨ç½²å¾®æœåŠ¡ï¼Œdocker build æŠ¥é”™ failed to solve with frontend dockerfile.v0: failed to create LLB definition: unexpected status code [manifests stable-slim]: 403 Forbidden è®¾ç½® docker Engine =&amp;gt; features:{buildkit:false}
docker é‡Œæ˜¯ä¸èƒ½ç”¨127.0.0.1è®¿é—®å®¿ä¸»æœºçš„æ•°æ®åº“çš„ï¼Œéœ€è¦é…ç½®é‡Œé…å®¿ä¸»æœºip
rootåªèƒ½localhostè®¿é—®ï¼Œéœ€è¦åˆ›å»ºæ–°ç”¨æˆ·, % è¡¨ç¤ºä»»æ„ipéƒ½èƒ½è®¿é—® dokerfile é‡Œçš„make buildæ‰§è¡Œçš„å°±æ˜¯makefileé‡Œçš„buildå‘½ä»¤ï¼Œéœ€è¦æ”¹æŒ‡å‘çš„cmdè·¯å¾„ å¯ä»¥ç”¨è¿™ä¸ªæŒ‡ä»¤ docker run -it &amp;lt;image:version&amp;gt; bash
å»æ’æŸ¥dockerè¿è¡Œæ—¶çš„é—®é¢˜ casbinä¸­é—´ä»¶ å–ä¸åˆ°reqçš„mehod åªæœ‰ctxå’Œä¸€ä¸ªinterfaceçš„req Request Method func(handler middleware.Handler) middleware.Handler { return func(ctx context.Context, req interface{}) (interface{}, error) { tr, _ := transport.</description>
    </item>
    
    <item>
      <title>gframe æ¡†æ¶æºç é˜…è¯»1</title>
      <link>http://HimawariSunFlower.github.io/posts/read_gf_1/</link>
      <pubDate>Tue, 30 Aug 2022 16:21:14 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/read_gf_1/</guid>
      <description></description>
    </item>
    
    <item>
      <title>go-kratos åˆä½“éªŒ</title>
      <link>http://HimawariSunFlower.github.io/posts/read_kratos_1/</link>
      <pubDate>Tue, 30 Aug 2022 16:21:14 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/read_kratos_1/</guid>
      <description>#åŠ¨æ‰‹ä¹‹å‰éœ€è¦ç†æ¸…æ¥šå¾®æœåŠ¡é€»è¾‘
1.wireç”Ÿæˆå‡ºæ¥çš„wire_gen.goï¼ŒgolandåŒåŒ…è¯»å–ä¸åˆ°ï¼Œé£˜çº¢ã€‚(å®é™…ç¼–è¯‘æˆåŠŸäº†)
:æ’ä»¶ä¸­å¸è½½ go wire util å°±å¥½äº†
2.protoæ–‡ä»¶ï¼Œimport &amp;ldquo;google/api/annotations.proto&amp;rdquo; ç­‰åº”ç”¨é£˜çº¢ã€‚
:åœ¨golandè®¾ç½®çš„protobufé‡Œæ·»åŠ third_party,
belike: 3.é¡¹ç›®ç»“æ„
â”œâ”€â”€ Dockerfile â”œâ”€â”€ LICENSE â”œâ”€â”€ Makefile â”œâ”€â”€ README.md â”œâ”€â”€ api // ä¸‹é¢ç»´æŠ¤äº†å¾®æœåŠ¡ä½¿ç”¨çš„protoæ–‡ä»¶ä»¥åŠæ ¹æ®å®ƒä»¬æ‰€ç”Ÿæˆçš„goæ–‡ä»¶ â”‚Â â””â”€â”€ helloworld â”‚Â â””â”€â”€ v1 â”‚Â â”œâ”€â”€ error_reason.pb.go â”‚Â â”œâ”€â”€ error_reason.proto â”‚Â â”œâ”€â”€ error_reason.swagger.json â”‚Â â”œâ”€â”€ greeter.pb.go â”‚Â â”œâ”€â”€ greeter.proto â”‚Â â”œâ”€â”€ greeter.swagger.json â”‚Â â”œâ”€â”€ greeter_grpc.pb.go â”‚Â â””â”€â”€ greeter_http.pb.go â”œâ”€â”€ cmd // æ•´ä¸ªé¡¹ç›®å¯åŠ¨çš„å…¥å£æ–‡ä»¶ â”‚Â â””â”€â”€ server â”‚Â â”œâ”€â”€ main.go â”‚Â â”œâ”€â”€ wire.go // æˆ‘ä»¬ä½¿ç”¨wireæ¥ç»´æŠ¤ä¾èµ–æ³¨å…¥ â”‚Â â””â”€â”€ wire_gen.</description>
    </item>
    
    <item>
      <title>ä¸Šä¼ github,sshæŠ¥é”™åŠè§£å†³æ–¹æ³•</title>
      <link>http://HimawariSunFlower.github.io/posts/first_post/</link>
      <pubDate>Tue, 30 Aug 2022 11:11:27 +0800</pubDate>
      
      <guid>http://HimawariSunFlower.github.io/posts/first_post/</guid>
      <description>ä¸Šä¼ githubæŠ¥é”™
ssh: Could not resolve hostname github.com:HimawariSunFlower: nodename nor servname provided, or not known fatal: Could not read from remote repository. Please make sure you have the correct access rights and the repository exists é¦–å…ˆæ€€ç–‘æ˜¯å…¬å¸gitlabè´¦æˆ·è¦†ç›–æ‰githubè´¦æˆ·
ssh-add -l ç¡®å®æ²¡å‘ç°githubçš„å¯†é’¥
ssh -T git@github.comæ˜¯é€šçš„ï¼Œpingä¸é€š
å°è¯•æ–¹æ³•1 hostsä¿®æ”¹å»å¯ä»¥pingé€šï¼Œæ²¡æœ‰ç”¨
å°è¯•æ–¹æ³•2 æ·»åŠ å¤šä¸ªè´¦æˆ·ï¼Œæ·»åŠ åˆ°ssh-addï¼Œæ²¡æœ‰ç”¨ï¼Œæ–¹æ³•2å»¶ä¼¸é—®é¢˜ï¼Œssh passphraseå¿˜è®°ï¼Œmacé’¥åŒ™ä¸²å¯ä»¥æ‰¾å›
æœ€ç»ˆè§£å†³æ–¹æ³• dnså†²æ´—
#Other ways to flush your dns, in windows in your terminal ipconfig /flushdns #on macos dscacheutil -flushcache #on linux service nscd restart </description>
    </item>
    
  </channel>
</rss>
